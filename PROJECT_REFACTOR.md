# 江湖奇缘 - 项目重构规划

## 🎯 项目定位
**基于LLM的智能文字MUD游戏**
- 参考经典MUD游戏（如北大侠客行）的设计理念
- 核心竞争力：LLM驱动的动态内容生成
- 目标：沉浸式的自动挂机文字冒险体验

## 🏗️ 架构重构计划

### 前后端分离架构

#### 前端 (Frontend)
```
江湖奇缘-frontend/
├── src/
│   ├── components/          # 游戏组件
│   │   ├── Character.js     # 角色系统
│   │   ├── GameEngine.js    # 游戏引擎
│   │   └── UIManager.js     # 界面管理
│   ├── events/              # 事件系统
│   │   ├── EventSystem.js   # 事件管理
│   │   └── EventLoader.js   # 事件加载
│   ├── data/                # 静态数据
│   │   ├── professions.js   # 职业配置
│   │   ├── locations.js     # 地点配置
│   │   └── items.js         # 物品配置
│   └── utils/               # 工具函数
├── assets/                  # 静态资源
├── index.html              # 主页面
└── package.json            # 依赖配置
```

#### 后端 (Backend)
```
江湖奇缘-backend/
├── src/
│   ├── api/                 # API接口
│   │   ├── events.js        # 事件生成API
│   │   ├── characters.js    # 角色管理API
│   │   └── game.js          # 游戏状态API
│   ├── services/            # 业务服务
│   │   ├── LLMService.js    # LLM服务
│   │   ├── EventGenerator.js # 事件生成器
│   │   └── DatabaseService.js # 数据库服务
│   ├── models/              # 数据模型
│   │   ├── Character.js     # 角色模型
│   │   ├── Event.js         # 事件模型
│   │   └── GameState.js     # 游戏状态模型
│   └── utils/               # 工具函数
├── database/                # 数据库文件
├── config/                  # 配置文件
└── package.json            # 依赖配置
```

## 🎮 MUD游戏设计要素

### 武侠世界观
- **职业系统**: 武者、术士、游侠、僧侣、文士、商贾
- **技能系统**: 武学、法术、轻功、医术、社交技能
- **装备系统**: 刀剑、法器、暗器、防具、饰品
- **地点系统**: 江湖各地、门派、城镇、野外、秘境

### 核心玩法机制
1. **自动挂机**: 角色自动探索，无需玩家操作
2. **动态事件**: LLM生成个性化的江湖奇遇
3. **角色成长**: 等级、属性、技能、装备的全面发展
4. **社交系统**: 声望、人脉、门派关系
5. **经济系统**: 金钱、交易、投资、产业

### LLM集成策略
1. **事件生成**: 基于角色状态生成个性化事件
2. **对话系统**: 动态NPC对话和互动
3. **剧情发展**: 连续性的故事线和角色发展
4. **世界构建**: 动态的世界事件和背景故事

## 🚀 实施计划

### 第一阶段：架构分离
- [ ] 创建独立的前端项目
- [ ] 创建独立的后端项目
- [ ] 设计API接口规范
- [ ] 迁移现有代码

### 第二阶段：MUD化改造
- [ ] 重新设计职业和技能系统
- [ ] 创建武侠风格的世界观
- [ ] 优化事件生成逻辑
- [ ] 增强角色成长系统

### 第三阶段：LLM深度集成
- [ ] 优化LLM提示词设计
- [ ] 实现动态对话系统
- [ ] 增加连续性剧情生成
- [ ] 完善事件质量控制

### 第四阶段：用户体验优化
- [ ] 界面美化和优化
- [ ] 性能优化
- [ ] 移动端适配
- [ ] 用户反馈收集

## 🎯 成功指标
- 用户平均游戏时长 > 30分钟
- 事件重复率 < 10%
- 角色成长满意度 > 80%
- 系统稳定性 > 99%

## 📝 注意事项
- 保持LLM作为核心竞争力
- 确保游戏平衡性和可玩性
- 注重用户体验和界面友好性
- 考虑后续的扩展性和维护性
